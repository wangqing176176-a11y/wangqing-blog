<div class="wq-hero-container">
    <div class="wq-header">
        <img src="/img/avatar.png" alt="Avatar" class="wq-avatar">
        <div class="wq-info">
            <h1 class="wq-name">WangQing</h1>
            <p class="wq-bio">学习笔记 · 文档整理 · 资源分享</p>
            <div class="wq-tags">
                <span>@Blogger</span>
                <span>@Developer</span>
            </div>
        </div>
    </div>

    <div class="wq-heatmap-wrapper">
        <div id="pixel-grid" class="wq-pixel-grid"></div>
        <div id="pixel-label" class="wq-pixel-label">Initializing...</div>
    </div>
</div>

<style>
:root {
    --pixel-bg: #ebedf0;
    --pixel-active: #39d353;
    --pixel-text: #57606a;
    --hero-bg: #ffffff;
    --name-color: #1f2328;
}

[data-theme='dark'], .dark {
    --pixel-bg: #161b22;
    --pixel-active: #39d353;
    --pixel-text: #8b949e;
    --hero-bg: #0d1117;
    --name-color: #f0f6fc;
}

.wq-hero-container {
    background: var(--hero-bg);
    padding: 2rem;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.1);
    margin: 1rem 0;
    transition: all 0.3s ease;
}

/* 头部布局 */
.wq-header {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.wq-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--pixel-active);
}

.wq-name {
    font-size: 1.8rem;
    margin: 0;
    color: var(--name-color);
}

.wq-bio {
    margin: 0.3rem 0;
    color: var(--pixel-text);
    font-size: 0.95rem;
}

.wq-tags span {
    font-size: 0.75rem;
    background: rgba(57, 211, 83, 0.1);
    color: var(--pixel-active);
    padding: 2px 8px;
    border-radius: 4px;
    margin-right: 5px;
}

/* 热力图布局 */
.wq-heatmap-wrapper {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.wq-pixel-grid {
    display: grid;
    grid-template-rows: repeat(7, 12px);
    grid-auto-flow: column;
    grid-auto-columns: 12px;
    gap: 3px;
    height: 105px;
}

.pixel-dot {
    width: 12px;
    height: 12px;
    background: var(--pixel-bg);
    border-radius: 2px;
    transition: background 0.5s ease;
}

.pixel-dot.active {
    background: var(--pixel-active);
    box-shadow: 0 0 5px var(--pixel-active);
}

.wq-pixel-label {
    margin-top: 10px;
    font-size: 12px;
    color: var(--pixel-text);
    font-family: monospace;
}
</style>

<script>
(function() {
    const words = ["HELLO", "CODE", "BLOG", "LOVE"];
    let wordIndex = 0;
    
    // 字母像素矩阵定义 (5x7)
    const font = {
        'H': [0,1,2,3,4,5,6,10,17,24,31,28,29,30,31,32,33,34],
        'E': [0,1,2,3,4,5,6,7,10,13,14,17,20,21,24,27,28,31,34],
        'L': [0,1,2,3,4,5,6,13,20,27,34],
        'O': [1,2,3,4,5,7,13,14,20,21,27,29,30,31,32,33],
        'C': [1,2,3,4,5,0,6,7,13,14,20,21,27],
        'D': [0,1,2,3,4,5,6,7,13,14,20,21,27,29,30,31,32,33],
        'B': [0,1,2,3,4,5,6,7,10,13,14,17,20,21,24,27,29,30,31,33],
        'G': [1,2,3,4,5,0,6,7,13,21,27,25,26,33,32,31],
        'V': [0,1,2,3,4,12,20,28,31,30,29,28,27]
    };

    const grid = document.getElementById('pixel-grid');
    const label = document.getElementById('pixel-label');
    const cols = 40; // 总列数
    const dots = [];

    // 初始化网格
    for (let i = 0; i < cols * 7; i++) {
        const dot = document.createElement('div');
        dot.className = 'pixel-dot';
        grid.appendChild(dot);
        dots.push(dot);
    }

    function drawWord(word) {
        // 先清空
        dots.forEach(d => d.classList.remove('active'));
        label.innerText = "Current status: " + word;
        
        let startCol = 2;
        word.split('').forEach(char => {
            if (font[char]) {
                font[char].forEach(offset => {
                    const dotIndex = (startCol * 7) + offset;
                    if (dots[dotIndex]) {
                        // 增加一点随机延迟，实现“平滑扫描”感
                        setTimeout(() => {
                            dots[dotIndex].classList.add('active');
                        }, Math.random() * 500);
                    }
                });
            }
            startCol += 7; // 每个字母占5列 + 2列间隔
        });
    }

    // 循环切换
    function cycle() {
        drawWord(words[wordIndex]);
        wordIndex = (wordIndex + 1) % words.length;
    }

    cycle();
    setInterval(cycle, 5000); // 每5秒换一次词
})();
</script>