<style>
  :root{
    --wq-mask: rgba(0,0,0,.40);
    --wq-card-bg: rgba(255,255,255,.82);
    --wq-card-border: rgba(0,0,0,.10);
    --wq-text: rgba(17,24,39,.95);
    --wq-sub: rgba(17,24,39,.68);
    --wq-shadow: 0 26px 70px rgba(0,0,0,.22);
    --wq-radius: 22px;
    --wq-input-bg: rgba(255,255,255,.70);
    --wq-input-border: rgba(0,0,0,.12);
    --wq-btn-bg: rgba(17,24,39,.06);
    --wq-btn-text: rgba(17,24,39,.90);
    --wq-btn-border: rgba(0,0,0,.12);
    --wq-btn-primary-bg: rgba(17,24,39,.92);
    --wq-btn-primary-text: #fff;
  }
  html.dark{
    --wq-mask: rgba(0,0,0,.55);
    --wq-card-bg: rgba(24,24,27,.74);
    --wq-card-border: rgba(255,255,255,.10);
    --wq-text: rgba(255,255,255,.92);
    --wq-sub: rgba(255,255,255,.68);
    --wq-shadow: 0 28px 80px rgba(0,0,0,.55);
    --wq-input-bg: rgba(255,255,255,.08);
    --wq-input-border: rgba(255,255,255,.14);
    --wq-btn-bg: rgba(255,255,255,.10);
    --wq-btn-text: rgba(255,255,255,.90);
    --wq-btn-border: rgba(255,255,255,.14);
    --wq-btn-primary-bg: rgba(255,255,255,.90);
    --wq-btn-primary-text: rgba(0,0,0,.88);
  }

  .wq-pw-mask{
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 18px;
    background: var(--wq-mask);
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
  }

  .wq-pw-card{
    width: min(560px, 100%);
    background: var(--wq-card-bg);
    border: 1px solid var(--wq-card-border);
    border-radius: var(--wq-radius);
    box-shadow: var(--wq-shadow);
    overflow: hidden;
    transform: translateY(10px) scale(.98);
    opacity: 0;
    transition: transform .22s ease, opacity .22s ease;
  }
  .wq-pw-mask.show .wq-pw-card{
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  .wq-pw-header{
    padding: 18px 20px 10px;
    border-bottom: 1px solid var(--wq-card-border);
  }
  .wq-pw-title{
    display:flex;
    align-items:center;
    gap: 10px;
    font-size: 16px;
    font-weight: 800;
    color: var(--wq-text);
  }
  .wq-pw-badge{
    width: 38px; height: 38px;
    border-radius: 14px;
    display:grid;
    place-items:center;
    background: rgba(255,255,255,.55);
    border: 1px solid var(--wq-card-border);
  }
  html.dark .wq-pw-badge{ background: rgba(255,255,255,.10); }

  .wq-pw-sub{
    margin-top: 6px;
    color: var(--wq-sub);
    font-size: 13.5px;
    line-height: 1.6;
  }

  .wq-pw-body{
    padding: 16px 20px 4px;
    color: var(--wq-text);
  }

  .wq-pw-field{
    margin-top: 12px;
    position: relative;
  }
  .wq-pw-input{
    width: 100%;
    padding: 12px 44px 12px 12px;
    border-radius: 14px;
    border: 1px solid var(--wq-input-border);
    background: var(--wq-input-bg);
    color: var(--wq-text);
    font-size: 14px;
    outline: none;
  }
  .wq-pw-input:focus{
    border-color: rgba(37,99,235,.35);
    box-shadow: 0 0 0 4px rgba(37,99,235,.12);
  }
  .wq-pw-eye{
    position:absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 34px;
    height: 34px;
    border-radius: 12px;
    border: 1px solid var(--wq-card-border);
    background: rgba(127,127,127,.08);
    color: var(--wq-text);
    cursor: pointer;
    display:grid;
    place-items:center;
    user-select:none;
  }
  .wq-pw-eye:hover{ background: rgba(127,127,127,.12); }

  .wq-pw-error{
    display:none;
    margin-top: 10px;
    color: #dc2626;
    font-size: 13px;
  }
  html.dark .wq-pw-error{ color: #fca5a5; }

  .wq-pw-actions{
    padding: 14px 20px 18px;
    display:flex;
    gap: 10px;
    justify-content:flex-end;
    border-top: 1px solid var(--wq-card-border);
    background: rgba(255,255,255,.22);
  }
  html.dark .wq-pw-actions{ background: rgba(255,255,255,.03); }

  .wq-btn{
    border: 1px solid var(--wq-btn-border);
    background: var(--wq-btn-bg);
    color: var(--wq-btn-text);
    border-radius: 14px;
    padding: 10px 14px;
    font-size: 14px;
    font-weight: 700;
    cursor:pointer;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    gap: 8px;
  }
  .wq-btn-primary{
    border-color: transparent;
    background: var(--wq-btn-primary-bg);
    color: var(--wq-btn-primary-text);
  }
</style>

<div class="wq-pw-mask" id="wqPwMask" aria-hidden="true" data-pass="{{ .Get 0 }}">
  <div class="wq-pw-card" role="dialog" aria-modal="true">
    <div class="wq-pw-header">
      <div class="wq-pw-title"><div class="wq-pw-badge">ğŸ”’</div>è®¿é—®éªŒè¯</div>
      <div class="wq-pw-sub">æœ¬é¡µé¢å†…å®¹å—ä¿æŠ¤ã€‚è¯·è¾“å…¥å¯†ç åç»§ç»­è®¿é—®ã€‚</div>
    </div>

    <div class="wq-pw-body">
      <div class="wq-pw-field">
        <input id="wqPwInput" class="wq-pw-input" type="password" placeholder="è¯·è¾“å…¥è®¿é—®å¯†ç " />
        <button class="wq-pw-eye" id="wqPwEye" type="button">ğŸ‘</button>
      </div>
      <div id="wqPwError" class="wq-pw-error">å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚</div>
    </div>

    <div class="wq-pw-actions">
      <a class="wq-btn" href="/">è¿”å›ä¸»é¡µ</a>
      <button class="wq-btn wq-btn-primary" id="wqPwOk" type="button">ç¡®è®¤è®¿é—®</button>
    </div>
  </div>
</div>

<script>
(function(){
  var mask = document.getElementById("wqPwMask");
  var input = document.getElementById("wqPwInput");
  var ok = document.getElementById("wqPwOk");
  var err = document.getElementById("wqPwError");
  var eye = document.getElementById("wqPwEye");

  function normalize(s){ return String(s || "").trim(); }

  var PASS = mask ? normalize(mask.getAttribute("data-pass")) : "";

  function show(){
    if(!mask) return;
    mask.style.display = "flex";
    mask.classList.add("show");
    mask.setAttribute("aria-hidden", "false");
    document.documentElement.style.overflow = "hidden";
    setTimeout(function(){ if(input) input.focus(); }, 100);
  }

  function hide(){
    if(!mask) return;
    mask.classList.remove("show");
    mask.setAttribute("aria-hidden", "true");
    document.documentElement.style.overflow = "";
    setTimeout(function(){ mask.style.display = "none"; }, 160);
  }

  function check(){
    if(err) err.style.display = "none";
    var typed = normalize(input && input.value);
    if (typed === PASS){
      hide();
    } else {
      if(err) err.style.display = "block";
      if(input){ input.focus(); input.select(); }
    }
  }

  window.addEventListener("load", function(){
    show();

    if(ok) ok.addEventListener("click", check);

    if(input) input.addEventListener("keydown", function(e){
      if(e.key === "Enter") check();
      if(err) err.style.display = "none";
    });

    if(eye) eye.addEventListener("click", function(){
      if(!input) return;
      input.type = (input.type === "password") ? "text" : "password";
      eye.textContent = (input.type === "password") ? "ğŸ‘" : "ğŸ™ˆ";
      input.focus();
    });

    // âœ… ä¿®å¤ï¼šä¸å…è®¸ç‚¹å‡»é®ç½©ç©ºç™½ç»•è¿‡ï¼ˆä¸è·³ä¸»é¡µã€ä¸å…³é—­ï¼‰
    if(mask) mask.addEventListener("click", function(e){
      if(e.target === mask){
        // ä»€ä¹ˆéƒ½ä¸åšï¼šå¿…é¡»é€šè¿‡æŒ‰é’®æˆ–æ­£ç¡®å¯†ç æ‰èƒ½ç¦»å¼€å¼¹çª—
        // å¯é€‰ï¼šç»™ä¸€ç‚¹è½»å¾®éœ‡åŠ¨åé¦ˆï¼ˆä¸æ”¹ UIï¼‰
        var card = mask.querySelector(".wq-pw-card");
        if(card && card.animate){
          card.animate(
            [{ transform: "translateX(0)" }, { transform: "translateX(-6px)" }, { transform: "translateX(6px)" }, { transform: "translateX(0)" }],
            { duration: 220 }
          );
        }
      }
    });

    // âœ… åŒç†ï¼šä¸å…è®¸ ESC ç»•è¿‡ï¼ˆå¯é€‰ä½†å»ºè®®ï¼‰
    document.addEventListener("keydown", function(e){
      if(e.key === "Escape"){
        var card = mask && mask.querySelector(".wq-pw-card");
        if(card && card.animate){
          card.animate(
            [{ transform: "translateX(0)" }, { transform: "translateX(-6px)" }, { transform: "translateX(6px)" }, { transform: "translateX(0)" }],
            { duration: 220 }
          );
        }
      }
    });
  });
})();
</script>
