<div id="wq-pw-mask" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:9999; padding:18px; align-items:center; justify-content:center;">
  <div style="width:min(520px,100%); background:#fff; border-radius:16px; padding:22px 22px 18px; box-shadow:0 20px 60px rgba(0,0,0,.25);">
    <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px;">
      <div style="font-weight:800; font-size:16px;">ğŸ”’ è®¿é—®éªŒè¯</div>
      <button id="wq-pw-close" type="button" style="border:1px solid rgba(0,0,0,.12); background:transparent; border-radius:12px; width:36px; height:36px; cursor:pointer;">âœ•</button>
    </div>

    <div style="color:#374151; font-size:14px; line-height:1.7;">
      è¯·è¾“å…¥è®¿é—®å¯†ç ä»¥ç»§ç»­é˜…è¯»æœ¬é¡µé¢å†…å®¹ã€‚
    </div>

    <input id="wq-pw-input" type="password" placeholder="è¯·è¾“å…¥è®¿é—®å¯†ç "
      style="margin-top:12px; width:100%; padding:10px 12px; border-radius:12px; border:1px solid #d1d5db; font-size:14px;" />

    <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:14px;">
      <button id="wq-pw-ok" type="button"
        style="border:1px solid rgba(0,0,0,.12); background:rgba(0,0,0,.04); padding:10px 14px; border-radius:999px; cursor:pointer; font-weight:700;">
        ç¡®è®¤è¿›å…¥
      </button>
    </div>

    <div id="wq-pw-error" style="display:none; margin-top:10px; color:#dc2626; font-size:13px;">
      å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚
    </div>
  </div>
</div>

<script>
(function(){
  // æ–‡ç« çº§å¯†ç ï¼ˆä» shortcode å‚æ•°é‡Œå–ï¼‰
  var PASS = {{ .Get 0 | jsonify }};

  function show(){
    var m = document.getElementById("wq-pw-mask");
    if (!m) return;
    m.style.display = "flex";
    document.documentElement.style.overflow = "hidden";
  }
  function hide(){
    var m = document.getElementById("wq-pw-mask");
    if (!m) return;
    m.style.display = "none";
    document.documentElement.style.overflow = "";
  }

  function check(){
    var input = document.getElementById("wq-pw-input");
    var err = document.getElementById("wq-pw-error");
    if (!input) return;

    if (input.value === PASS){
      hide();
    }else{
      if (err) err.style.display = "block";
      input.focus();
      input.select();
    }
  }

  // æ¯æ¬¡è¿›å…¥é¡µé¢éƒ½å¼¹
  window.addEventListener("load", function(){
    show();

    var ok = document.getElementById("wq-pw-ok");
    var close = document.getElementById("wq-pw-close");
    var mask = document.getElementById("wq-pw-mask");
    var input = document.getElementById("wq-pw-input");

    if (ok) ok.addEventListener("click", check);
    if (close) close.addEventListener("click", function(){ /* ä¸å…è®¸ç»•è¿‡ */ });
    if (mask) mask.addEventListener("click", function(e){ if (e.target === mask) { /* ä¸å…è®¸ç»•è¿‡ */ }});
    if (input) input.addEventListener("keydown", function(e){ if (e.key === "Enter") check(); });
  });
})();
</script>
