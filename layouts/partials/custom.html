{{ if .IsHome }}
<script>
  (function () {
    // localStorage keyï¼ˆå¯éšæ„æ”¹åï¼Œä½†åˆ«åˆ ï¼‰
    const KEY = "wangqing_blog_disclaimer_seen";

    // å¦‚æœå·²ç»çœ‹è¿‡ï¼Œä¸å†æ˜¾ç¤º
    if (localStorage.getItem(KEY)) return;

    // é¡µé¢åŠ è½½å®Œæˆåå†æ’å…¥å¼¹çª—
    window.addEventListener("load", function () {
      const mask = document.createElement("div");
      mask.innerHTML = `
        <style>
          .site-modal-mask {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,.45);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .site-modal {
            background: #fff;
            max-width: 520px;
            width: calc(100% - 32px);
            border-radius: 14px;
            padding: 24px 24px 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,.2);
            animation: modalIn .25s ease;
          }

          @keyframes modalIn {
            from { transform: translateY(10px); opacity: 0; }
            to   { transform: translateY(0);   opacity: 1; }
          }

          .site-modal h3 {
            margin: 0 0 12px;
            font-size: 1.1rem;
          }

          .site-modal p {
            font-size: .95rem;
            line-height: 1.7;
            color: #444;
          }

          .site-modal-actions {
            margin-top: 18px;
            text-align: right;
          }

          .site-modal-actions button {
            border: none;
            background: #2563eb;
            color: #fff;
            padding: 8px 16px;
            border-radius: 999px;
            cursor: pointer;
          }
        </style>

        <div class="site-modal-mask" id="site-modal">
          <div class="site-modal">
            <h3>ğŸ“Œ ä½¿ç”¨è¯´æ˜ä¸å…è´£å£°æ˜</h3>
            <p>
              ä½¿ç”¨æœ¬ç«™å‰ï¼Œè¯·åŠ¡å¿…é˜…è¯»
              <a href="/about" style="color:#2563eb;">å…³äºé¡µé¢</a>ã€‚
              <br>
              ç»§ç»­è®¿é—®ã€é˜…è¯»æˆ–ä¸‹è½½æœ¬ç«™å†…å®¹ï¼Œå³è§†ä¸ºæ‚¨å·²ç†è§£å¹¶åŒæ„ç›¸å…³è¯´æ˜ä¸çº¦å®šã€‚
            </p>
            <div class="site-modal-actions">
              <button id="site-modal-confirm">æˆ‘å·²çŸ¥æ™“</button>
            </div>
          </div>
        </div>
      `;

      document.body.appendChild(mask);

      document
        .getElementById("site-modal-confirm")
        .addEventListener("click", function () {
          localStorage.setItem(KEY, "1");
          document.getElementById("site-modal").remove();
        });
    });
  })();
</script>
{{ end }}
