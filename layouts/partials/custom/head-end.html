<!-- ===== Apple é£ï¼šé¦–é¡µè®¿é—®æç¤ºå¼¹çª—ï¼ˆä»…é¦–é¡µ + é¦–æ¬¡è®¿é—®ï¼‰ ===== -->
<style>
  :root{
    --wq-mask: rgba(0,0,0,.38);
    --wq-card-bg: rgba(255,255,255,.78);
    --wq-card-border: rgba(0,0,0,.08);
    --wq-text: rgba(17,24,39,.95);
    --wq-subtext: rgba(17,24,39,.68);
    --wq-link: #2563eb;
    --wq-shadow: 0 24px 60px rgba(0,0,0,.18);
    --wq-radius: 20px;
    --wq-btn-bg: #111827;
    --wq-btn-text: #fff;
    --wq-btn-ghost-bg: rgba(17,24,39,.06);
    --wq-btn-ghost-text: rgba(17,24,39,.88);
  }

  html.dark{
    --wq-mask: rgba(0,0,0,.55);
    --wq-card-bg: rgba(24,24,27,.72);
    --wq-card-border: rgba(255,255,255,.10);
    --wq-text: rgba(255,255,255,.92);
    --wq-subtext: rgba(255,255,255,.68);
    --wq-link: #7aa2ff;
    --wq-shadow: 0 24px 70px rgba(0,0,0,.45);
    --wq-btn-bg: rgba(255,255,255,.92);
    --wq-btn-text: rgba(0,0,0,.88);
    --wq-btn-ghost-bg: rgba(255,255,255,.10);
    --wq-btn-ghost-text: rgba(255,255,255,.88);
  }

  .wq-modal{
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 18px;
    background: var(--wq-mask);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

  .wq-card{
    width: min(560px,100%);
    background: var(--wq-card-bg);
    border: 1px solid var(--wq-card-border);
    border-radius: var(--wq-radius);
    box-shadow: var(--wq-shadow);
    overflow: hidden;
    transform: translateY(10px) scale(.98);
    opacity: 0;
    transition: transform .25s ease, opacity .25s ease;
  }

  .wq-modal.show .wq-card{
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  /* è½»å¾®éœ‡åŠ¨åé¦ˆ */
  .wq-shake{
    animation: wq-shake .28s ease;
  }
  @keyframes wq-shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-4px)}
    50%{transform:translateX(4px)}
    75%{transform:translateX(-3px)}
    100%{transform:translateX(0)}
  }

  .wq-header{
    padding: 18px 18px 10px;
  }
  .wq-title{
    display:flex;
    align-items:center;
    gap:10px;
    font-size:16px;
    font-weight:700;
    color:var(--wq-text);
  }
  .wq-badge{
    width:34px;height:34px;
    border-radius:12px;
    display:grid;
    place-items:center;
    background:rgba(255,255,255,.55);
    border:1px solid var(--wq-card-border);
  }
  html.dark .wq-badge{background:rgba(255,255,255,.10)}

  .wq-body{
    padding:0 18px 16px;
    font-size:14.5px;
    line-height:1.75;
    color:var(--wq-text);
  }
  .wq-body p{margin:10px 0}
  .wq-body a{
    color:var(--wq-link);
    font-weight:600;
    text-decoration:none;
  }

  .wq-note{
    margin-top:12px;
    padding:12px;
    border-radius:14px;
    border:1px solid var(--wq-card-border);
    background:rgba(255,255,255,.45);
  }
  html.dark .wq-note{background:rgba(255,255,255,.06)}

  .wq-agree-row{
    display:flex;
    gap:10px;
    cursor:pointer;
    user-select:none;
  }
  .wq-agree-row input{
    margin-top:3px;
    width:16px;height:16px;
    accent-color:var(--wq-link);
  }
  .wq-agree-row span{
    color:var(--wq-subtext);
    line-height:1.6;
  }

  .wq-actions{
    padding:14px 18px 18px;
    display:flex;
    gap:10px;
    justify-content:flex-end;
    border-top:1px solid var(--wq-card-border);
    background:rgba(255,255,255,.25);
  }
  html.dark .wq-actions{background:rgba(255,255,255,.03)}

  .wq-btn{
    border:1px solid var(--wq-card-border);
    border-radius:14px;
    padding:10px 14px;
    font-size:14px;
    cursor:pointer;
  }
  .wq-btn-ghost{
    background:var(--wq-btn-ghost-bg);
    color:var(--wq-btn-ghost-text);
  }
  .wq-btn-primary{
    background:var(--wq-btn-bg);
    color:var(--wq-btn-text);
    border-color:transparent;
  }
  .wq-btn[disabled]{
    opacity:.55;
    cursor:not-allowed;
  }
</style>

<div class="wq-modal" id="wqModal" aria-hidden="true">
  <div class="wq-card" id="wqCard">
    <div class="wq-header">
      <div class="wq-title">
        <div class="wq-badge">ğŸ“Œ</div>
        è®¿é—®æç¤º
      </div>
    </div>

    <div class="wq-body">
      <p>
        ä½¿ç”¨æœ¬ç«™å‰ï¼Œè¯·å…ˆé˜…è¯»
        <a href="/about/">ã€Šå…³äºã€‹</a>
        é¡µé¢ä¸­çš„ç›¸å…³è¯´æ˜ã€‚
      </p>
      <p>ç»§ç»­è®¿é—®å’Œæ“ä½œï¼Œå³è§†ä¸ºæ‚¨åŒæ„ç›¸å…³çº¦å®šã€‚</p>

      <div class="wq-note">
        <label class="wq-agree-row">
          <input id="wqAgree" type="checkbox">
          <span>
            æˆ‘å·²ç†è§£å¹¶åŒæ„ï¼Œç¡®è®¤ç»§ç»­è®¿é—®ã€‚
          </span>
        </label>
      </div>
    </div>

    <div class="wq-actions">
      <a class="wq-btn wq-btn-ghost" href="/about/">æŸ¥çœ‹å…³äº</a>
      <button class="wq-btn wq-btn-primary" id="wqModalOk" disabled>
        è¿›å…¥ç½‘ç«™
      </button>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  var path = location.pathname || "/";
  if (path !== "/" && path !== "/index.html") return;

  var KEY = "wq_first_visit_modal_v1";
  if (localStorage.getItem(KEY) === "1") return;

  var modal = document.getElementById("wqModal");
  var card = document.getElementById("wqCard");
  var ok = document.getElementById("wqModalOk");
  var agree = document.getElementById("wqAgree");

  if (!modal || !card || !ok || !agree) return;

  ok.disabled = true;

  function show(){
    modal.style.display = "flex";
    requestAnimationFrame(function(){
      modal.classList.add("show");
    });
    document.documentElement.style.overflow = "hidden";
  }

  function shake(){
    card.classList.remove("wq-shake");
    card.offsetWidth;
    card.classList.add("wq-shake");
  }

  function hide(){
    if (!agree.checked){
      shake();
      return;
    }
    modal.classList.remove("show");
    document.documentElement.style.overflow = "";
    setTimeout(function(){
      modal.style.display = "none";
    },200);
    localStorage.setItem(KEY,"1");
  }

  agree.addEventListener("change",function(){
    ok.disabled = !agree.checked;
  });

  ok.addEventListener("click", hide);

  modal.addEventListener("click",function(e){
    if (e.target === modal) hide();
  });

  document.addEventListener("keydown",function(e){
    if (e.key === "Escape") hide();
  });

  show();
});
</script>
<!-- ===== å¼¹çª—ç»“æŸ ===== -->





{{- if .IsPage -}}
<!-- ===== WQ: inject article meta under H1 (Lastmod + ReadingTime) [PILL STYLE] ===== -->
<style>
  .hx-article-meta{
    margin-top: 1.35rem;          /* âœ… ä¸æ ‡é¢˜æ‹‰å¼€ä¸€ç‚¹ */
    margin-bottom: 2.0rem;
    padding-bottom: 1.1rem;
    border-bottom: 1px solid rgba(0,0,0,.06);
    display: flex;
    align-items: center;
    gap: .6rem;
    flex-wrap: wrap;
    color: rgba(100,116,139,1);
    font-size: .92rem;
    line-height: 1.6;
  }
  html.dark .hx-article-meta{
    border-bottom-color: rgba(255,255,255,.10);
    color: rgba(209,213,219,.80);
  }

  /* âœ… pill ç»Ÿä¸€æ ·å¼ï¼ˆApple-ishï¼šè½»ã€åœ†ã€å…‹åˆ¶ï¼‰ */
  .hx-article-meta .wq-pill{
    display: inline-flex;
    align-items: center;
    gap: .45rem;
    padding: .32rem .58rem;
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,.06);
    background: rgba(148,163,184,.10);
    white-space: nowrap;
  }
  html.dark .hx-article-meta .wq-pill{
    border-color: rgba(255,255,255,.10);
    background: rgba(255,255,255,.06);
  }

  /* âœ… æ ‡ç­¾æ–‡å­—ï¼šåˆ«å¤ªé»‘ï¼Œç•¥åŠ ç²—ä½†â€œç°â€ */
  .hx-article-meta .wq-key{
    font-weight: 700;
    color: rgba(100,116,139,.95); /* ç° */
  }
  html.dark .hx-article-meta .wq-key{
    color: rgba(209,213,219,.88);
  }

  /* âœ… å€¼ï¼šæ›´æ·¡ä¸€ç‚¹ï¼Œé¿å…æŠ¢æ ‡é¢˜ */
  .hx-article-meta .wq-val{
    color: rgba(100,116,139,.90);
    font-variant-numeric: tabular-nums;
  }
  html.dark .hx-article-meta .wq-val{
    color: rgba(209,213,219,.80);
  }

  /* âœ… å·¦ä¾§å°åœ†ç‚¹ï¼šæ›´å…‹åˆ¶ */
  .hx-article-meta .wq-dot{
    width: 7px;
    height: 7px;
    border-radius: 999px;
    background: rgba(37,99,235,.55);
    box-shadow: 0 0 0 3px rgba(37,99,235,.10);
    display: inline-block;
    flex: 0 0 auto;
  }
  html.dark .hx-article-meta .wq-dot{
    background: rgba(96,165,250,.65);
    box-shadow: 0 0 0 3px rgba(96,165,250,.14);
  }

  /* æ‰‹æœºç«¯ï¼špill è‡ªåŠ¨æ¢è¡Œå°±å¥½ï¼Œä¸æŒ¤ */
  @media (max-width: 520px){
    .hx-article-meta{ gap: .5rem; }
    .hx-article-meta .wq-pill{ padding: .30rem .55rem; }
  }
</style>

{{/* ===== 1) æœ€åæ›´æ–°ï¼šä¼˜å…ˆ Lastmodï¼Œå…¶æ¬¡ Date ===== */}}
{{- $wqLast := (cond (gt (.Lastmod.Unix) 0) (.Lastmod.Format "2006-01-02") (.Date.Format "2006-01-02")) -}}

{{/* ===== 2) é˜…è¯»æ—¶é—´ï¼šä¸­æ–‡æŒ‰â€œå­—æ•°â€ä¼°ç®—ï¼ˆæ›´é€‚åˆä¸­æ–‡ï¼‰ =====
     æ¯åˆ†é’Ÿå­—æ•°ï¼ˆç†è§£å‹é˜…è¯»ï¼‰ï¼šå»ºè®® 380~450
*/}}
{{- $wqMins := .ReadingTime -}}
{{- $lang := lower .Lang -}}
{{- if or (eq $lang "zh-cn") (eq $lang "zh") -}}
  {{- $plain := .Plain -}}
  {{- $noSpace := replaceRE "\\s+" "" $plain -}}
  {{- $chars := len $noSpace -}}
  {{- $wqCPM := 450 -}}  {{/* âœ… è¿™é‡Œæ”¹é€Ÿåº¦ï¼š380(æ›´æ…¢) / 450(é»˜è®¤) / 500(æ›´å¿«) */}}
  {{- $wqMins = div (add $chars (sub $wqCPM 1)) $wqCPM -}} {{/* å‘ä¸Šå–æ•´ */}}
  {{- if lt $wqMins 1 -}}{{- $wqMins = 1 -}}{{- end -}}
{{- end -}}

{{/* ===== 3) è¾“å‡ºç»™ JSï¼š "YYYY-MM-DD|mins" ===== */}}
{{- $wqMeta := (printf "%s|%d" $wqLast $wqMins) | jsonify -}}

<script>
(function(){
  document.addEventListener("DOMContentLoaded", function(){
    var h1 = document.querySelector("article h1");
    if(!h1) return;

    // é˜²é‡å¤æ’å…¥
    if(document.querySelector(".hx-article-meta")) return;

    // Hugo è¾“å‡º JSON å­—ç¬¦ä¸²ï¼š "2026-01-07|5"
    var raw = JSON.parse({{ $wqMeta }});
    var parts = String(raw).split("|");
    var last = parts[0] || "";
    var mins = parts[1] || "";

    var meta = document.createElement("div");
    meta.className = "hx-article-meta";
    meta.innerHTML =
      '<span class="wq-pill" role="note">' +
        '<span class="wq-dot" aria-hidden="true"></span>' +
        '<span class="wq-key">æœ€åæ›´æ–°</span>' +
        '<span class="wq-val">' + last + '</span>' +
      '</span>' +
      '<span class="wq-pill" role="note">' +
        '<span class="wq-key">é˜…è¯»</span>' +
        '<span class="wq-val">çº¦ ' + mins + ' åˆ†é’Ÿ</span>' +
      '</span>';

    h1.insertAdjacentElement("afterend", meta);
  });
})();
</script>
<!-- ===== WQ: inject article meta end ===== -->
{{- end -}}



<!-- =========================================================
WQ Mobile Drawer (Hextra) - Compact + Smooth
ç²˜è´´ä½ç½®ï¼šlayouts/partials/custom/head-end.html æœ«å°¾
========================================================= -->
<style>
  /* ä»…ç§»åŠ¨ç«¯å¯ç”¨ */
  @media (max-width: 768px) {
    :root{
      --wq-mm-mask: rgba(0,0,0,.36);
      --wq-mm-sheet: rgba(255,255,255,.86);
      --wq-mm-border: rgba(0,0,0,.10);
      --wq-mm-text: rgba(17,24,39,.92);
      --wq-mm-sub: rgba(100,116,139,1);
      --wq-mm-shadow: 0 16px 50px rgba(0,0,0,.20);
      --wq-mm-radius: 18px;

      /* æ›´ç´§å‡‘ */
      --wq-mm-width: min(308px, 84vw);
      --wq-mm-pad: 12px;
      --wq-mm-gap: 10px;
      --wq-mm-item-h: 46px;

      /* åŠ¨ç”»æ›´é¡ºæ»‘ï¼ˆæ›´åƒç³»ç»Ÿï¼‰ */
      --wq-ease: cubic-bezier(.22,.9,.24,1);
    }

    html.dark{
      --wq-mm-mask: rgba(0,0,0,.55);
      --wq-mm-sheet: rgba(24,24,27,.86);
      --wq-mm-border: rgba(255,255,255,.12);
      --wq-mm-text: rgba(255,255,255,.92);
      --wq-mm-sub: rgba(209,213,219,.78);
      --wq-mm-shadow: 0 20px 70px rgba(0,0,0,.50);
    }

    /* ===== ä¸‰æ¨ªçº¿æŒ‰é’®ï¼šå»æ‰â€œæ–¹æ¡†åŒ…è£¹æ„Ÿâ€ ===== */
    button.hextra-hamburger-menu{
      border: none !important;
      background: transparent !important;
      box-shadow: none !important;
      outline: none !important;
      border-radius: 10px !important;
      padding: 6px 8px !important;
    }
    button.hextra-hamburger-menu:hover{
      background: rgba(0,0,0,.04) !important;
    }
    html.dark button.hextra-hamburger-menu:hover{
      background: rgba(255,255,255,.08) !important;
    }

    /* ===== é®ç½© ===== */
    .wq-mm-mask{
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: none;
      background: var(--wq-mm-mask);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      opacity: 0;
      transition: opacity .18s ease;
      will-change: opacity;
    }
    .wq-mm-mask.show{
      display: block;
      opacity: 1;
    }

    /* ===== æŠ½å±‰ä¸»ä½“ï¼šæ›´é¡ºæ»‘ï¼ˆä½ç§» + è½»å¾®ç¼©æ”¾ + æ·¡å…¥ï¼‰ ===== */
    .wq-mm-sheet{
      position: absolute;
      top: 10px;
      right: 10px;
      bottom: 10px;
      width: var(--wq-mm-width);
      background: var(--wq-mm-sheet);
      border: 1px solid var(--wq-mm-border);
      border-radius: var(--wq-mm-radius);
      box-shadow: var(--wq-mm-shadow);
      overflow: hidden;

      transform: translateX(18px) scale(.985);
      opacity: 0;
      transition:
        transform .30s var(--wq-ease),
        opacity .18s ease;
      will-change: transform, opacity;
      display: flex;
      flex-direction: column;
    }
    .wq-mm-mask.show .wq-mm-sheet{
      transform: translateX(0) scale(1);
      opacity: 1;
    }

    @media (prefers-reduced-motion: reduce){
      .wq-mm-mask, .wq-mm-sheet{ transition: none !important; }
    }

    /* ===== å¤´éƒ¨ ===== */
    .wq-mm-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 10px var(--wq-mm-pad);
      border-bottom: 1px solid var(--wq-mm-border);
    }
    .wq-mm-title{
      font-weight: 750;          /* ä¸è¦å¤ªç²— */
      color: var(--wq-mm-text);
      font-size: 15.5px;
      letter-spacing: .2px;
    }

    /* å…³é—­æŒ‰é’®ï¼šæ›´å° + æ— æ¡† */
    .wq-mm-close{
      width: 28px;
      height: 28px;
      border-radius: 10px;
      border: none;
      background: transparent;
      color: var(--wq-mm-text);
      display:grid;
      place-items:center;
      cursor: pointer;
      padding: 0;
    }
    .wq-mm-close:hover{
      background: rgba(0,0,0,.05);
    }
    html.dark .wq-mm-close:hover{
      background: rgba(255,255,255,.08);
    }
    .wq-mm-close svg{ width: 18px; height: 18px; }

    /* ===== å†…å®¹åŒº ===== */
    .wq-mm-body{
      padding: var(--wq-mm-pad);
      display:flex;
      flex-direction: column;
      gap: var(--wq-mm-gap);
      overflow: auto;
    }

    /* æœç´¢æ¡ï¼šæ›´å°ã€æ›´çª„ã€æ›´å…‹åˆ¶ */
    .wq-mm-search{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      height: 42px;
      padding: 0 12px;
      border-radius: 14px;
      border: 1px solid var(--wq-mm-border);
      background: rgba(255,255,255,.55);
      color: var(--wq-mm-sub);
      cursor: pointer;
      user-select: none;
      transition: background .15s ease, border-color .15s ease;
    }
    .wq-mm-search:hover{
      background: rgba(37,99,235,.03);
      border-color: rgba(37,99,235,.16);
    }
    html.dark .wq-mm-search{
      background: rgba(255,255,255,.06);
    }
    html.dark .wq-mm-search:hover{
      background: rgba(96,165,250,.10);
      border-color: rgba(96,165,250,.22);
    }
    .wq-mm-search .left{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 0;
    }
    .wq-mm-search .ph{
      font-weight: 650;
      color: var(--wq-mm-sub);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-size: 14px;
    }
    .wq-mm-search .hint{
      display:flex;
      align-items:center;
      gap: 6px;
      opacity: .85;
      font-size: 12px;
      font-weight: 700;
    }
    .wq-mm-search kbd{
      border: 1px solid var(--wq-mm-border);
      border-bottom-width: 2px;
      border-radius: 10px;
      padding: 3px 8px;
      background: rgba(255,255,255,.65);
      color: var(--wq-mm-text);
    }
    html.dark .wq-mm-search kbd{
      background: rgba(255,255,255,.08);
      color: var(--wq-mm-text);
    }

    /* èœå•é¡¹ï¼šæ›´å°ä¸€ç‚¹ */
    .wq-mm-list{
      display:flex;
      flex-direction: column;
      gap: 10px;
    }
    .wq-mm-item{
      height: var(--wq-mm-item-h);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 0 12px;
      border-radius: 16px;
      border: 1px solid var(--wq-mm-border);
      background: rgba(255,255,255,.55);
      color: var(--wq-mm-text) !important;
      text-decoration: none !important;
      user-select: none;
      transition: background .15s ease, border-color .15s ease, transform .15s ease;
    }
    html.dark .wq-mm-item{
      background: rgba(255,255,255,.06);
    }
    /* â€œè½»è½»çš„åé¦ˆâ€ */
    .wq-mm-item:hover{
      background: rgba(37,99,235,.04);
      border-color: rgba(37,99,235,.18);
      transform: translateY(-1px);
    }
    html.dark .wq-mm-item:hover{
      background: rgba(96,165,250,.10);
      border-color: rgba(96,165,250,.22);
    }

    .wq-mm-left{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 0;
    }
    .wq-mm-icon{
      width: 22px;
      height: 22px;
      display:grid;
      place-items:center;
      opacity: .92;
      flex: 0 0 auto;
    }
    .wq-mm-icon svg{
      width: 20px;
      height: 20px;
      stroke: currentColor;
    }
    .wq-mm-label{
      font-size: 14.5px;
      font-weight: 550; /* âœ… ä¸åŠ ç²— */
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .wq-mm-arrow{
      opacity: .55;
      flex: 0 0 auto;
      width: 18px;
      height: 18px;
    }

    .wq-mm-foot{
      margin-top: 6px;
      padding-top: 12px;
      border-top: 1px solid var(--wq-mm-border);
      color: rgba(100,116,139,.85);
      font-size: 12px;
    }
    html.dark .wq-mm-foot{
      color: rgba(209,213,219,.75);
    }

    /* æ›´å°å±å†ç´§ä¸€ç‚¹ */
    @media (max-width: 390px){
      :root{
        --wq-mm-width: min(296px, 88vw);
        --wq-mm-item-h: 44px;
      }
      .wq-mm-label{ font-size: 14px; }
      .wq-mm-title{ font-size: 15px; }
      .wq-mm-search{ height: 40px; }
    }
  }
</style>

<div class="wq-mm-mask" id="wqMobileMenu" aria-hidden="true">
  <div class="wq-mm-sheet" role="dialog" aria-modal="true" aria-label="å¯¼èˆªæŠ½å±‰">
    <div class="wq-mm-head">
      <div class="wq-mm-title">å¯¼èˆª</div>
      <button class="wq-mm-close" id="wqMmClose" type="button" aria-label="å…³é—­">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round">
          <path d="M18 6L6 18"></path>
          <path d="M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <div class="wq-mm-body">
      <div class="wq-mm-search" id="wqMmSearch" role="button" tabindex="0" aria-label="æœç´¢æ–‡æ¡£">
        <div class="left">
          <span class="wq-mm-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="7"></circle>
              <path d="M20 20l-3.5-3.5"></path>
            </svg>
          </span>
          <div class="ph">æœç´¢æ–‡æ¡£â€¦</div>
        </div>
        <div class="hint" aria-hidden="true">
          <kbd>âŒ˜</kbd><kbd>K</kbd>
        </div>
      </div>

      <nav class="wq-mm-list" id="wqMmList"></nav>

      <div class="wq-mm-foot">WangQing's BLOG Â· ä¸»å¯¼èˆªæŠ½å±‰</div>
    </div>
  </div>
</div>

<script>
(function(){
  function isMobile() {
    return window.matchMedia && window.matchMedia("(max-width: 768px)").matches;
  }
  if (!isMobile()) return;

  const mask = document.getElementById("wqMobileMenu");
  const list = document.getElementById("wqMmList");
  const btnClose = document.getElementById("wqMmClose");
  const btnSearch = document.getElementById("wqMmSearch");
  const burger = document.querySelector("button.hextra-hamburger-menu");

  if (!mask || !list || !burger) return;

  function icon(name){
    const map = {
      home: `<svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 10.5l9-7 9 7"></path><path d="M5 10v10h14V10"></path></svg>`,
      docs: `<svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 3h7l3 3v15H7z"></path><path d="M14 3v4h4"></path></svg>`,
      cloud: `<svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 18h10a4 4 0 0 0 0-8 6 6 0 0 0-11.4 1.6A3.5 3.5 0 0 0 7 18z"></path></svg>`,
      user: `<svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21a8 8 0 0 0-16 0"></path><circle cx="12" cy="7" r="4"></circle></svg>`,
      mail: `<svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 6h16v12H4z"></path><path d="M4 7l8 6 8-6"></path></svg>`,
      github: `<svg viewBox="0 0 24 24" fill="none" stroke-width="0"><path fill="currentColor" d="M12 .5C5.73.5.75 5.76.75 12.27c0 5.2 3.44 9.6 8.2 11.16.6.12.82-.27.82-.6v-2.2c-3.34.75-4.04-1.68-4.04-1.68-.55-1.43-1.34-1.81-1.34-1.81-1.1-.78.08-.77.08-.77 1.22.09 1.86 1.3 1.86 1.3 1.08 1.9 2.83 1.35 3.52 1.03.11-.81.42-1.35.76-1.66-2.66-.31-5.46-1.38-5.46-6.13 0-1.35.46-2.46 1.22-3.33-.12-.31-.53-1.57.12-3.27 0 0 1-.33 3.3 1.27a11 11 0 0 1 3-.42c1.02 0 2.05.14 3 .42 2.3-1.6 3.3-1.27 3.3-1.27.65 1.7.24 2.96.12 3.27.76.87 1.22 1.98 1.22 3.33 0 4.77-2.8 5.82-5.48 6.12.43.39.81 1.15.81 2.31v3.42c0 .33.22.72.82.6 4.76-1.56 8.2-5.96 8.2-11.16C23.25 5.76 18.27.5 12 .5z"/></svg>`,
      twitter: `<svg viewBox="0 0 24 24" fill="none" stroke-width="0"><path fill="currentColor" d="M18.9 2H22l-6.8 7.8L23.8 22h-6.8l-5.3-6.9L5.7 22H2.6l7.3-8.4L.8 2h7l4.8 6.3L18.9 2zm-1.2 18h1.7L7.9 3.9H6.1L17.7 20z"/></svg>`
    };
    return map[name] || map.docs;
  }

  function collectFromTopNav(){
    const nav = document.querySelector("nav.hextra-max-navbar-width");
    if (!nav) return [];

    const links = Array.from(nav.querySelectorAll("a")).map(a => ({
      text: (a.textContent || "").trim(),
      title: (a.getAttribute("title") || "").trim(),
      href: a.getAttribute("href") || ""
    })).filter(x => x.href && (x.text || x.title));

    function pick(predicate){ return links.find(predicate); }

    const home = pick(x => x.href === "/" || x.text.includes("ä¸»é¡µ"));
    const docs = pick(x => x.href.includes("/docs") || x.text.includes("æ–‡æ¡£"));
    const pan  = pick(x => x.href.includes("pan.qinghub") || x.text.includes("ç½‘ç›˜"));
    const about= pick(x => x.href.includes("/about") || x.text.includes("å…³äº"));
    const mail = pick(x => x.href.startsWith("mailto:") || x.text.includes("è”ç³»"));
    const gh   = pick(x => x.href.includes("github.com") || x.text.toLowerCase() === "github");
    const tw   = pick(x => x.href.includes("x.com") || x.href.includes("twitter.com") || x.text.toLowerCase() === "twitter");

    const out = [];
    if (home) out.push({label:"é¦–é¡µ", href: home.href, icon:"home", external: false});
    if (docs) out.push({label:"æ–‡æ¡£", href: docs.href, icon:"docs", external: false});
    if (pan)  out.push({label:"ç½‘ç›˜", href: pan.href, icon:"cloud", external: true});
    if (about)out.push({label:"å…³äº", href: about.href, icon:"user", external: false});
    if (mail) out.push({label:"è”ç³»", href: mail.href, icon:"mail", external: true});
    if (gh)   out.push({label:"GitHub", href: gh.href, icon:"github", external: true});
    if (tw)   out.push({label:"Twitter", href: tw.href, icon:"twitter", external: true});
    return out;
  }

  function renderMenu(items){
    list.innerHTML = items.map(it => {
      const ext = it.external ? ` target="_blank" rel="noreferrer noopener"` : ``;
      return `
        <a class="wq-mm-item" href="${it.href}"${ext}>
          <div class="wq-mm-left">
            <span class="wq-mm-icon" aria-hidden="true">${icon(it.icon)}</span>
            <div class="wq-mm-label">${it.label}</div>
          </div>
          <svg class="wq-mm-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M9 6l6 6-6 6"/></svg>
        </a>
      `;
    }).join("");
  }

  function open(){
    mask.classList.add("show");
    mask.setAttribute("aria-hidden","false");
    document.documentElement.style.overflow = "hidden";
  }
  function close(){
    mask.classList.remove("show");
    mask.setAttribute("aria-hidden","true");
    document.documentElement.style.overflow = "";
  }

  burger.addEventListener("click", function(e){
    e.preventDefault();
    e.stopPropagation();
    renderMenu(collectFromTopNav());
    open();
  }, true);

  if (btnClose) btnClose.addEventListener("click", function(e){
    e.preventDefault(); e.stopPropagation(); close();
  }, true);

  mask.addEventListener("click", function(e){
    if (e.target === mask) close();
  });

  document.addEventListener("keydown", function(e){
    if (e.key === "Escape" && mask.classList.contains("show")) close();
  });

  function openOfficialSearch(){
    close();
    window.setTimeout(function(){
      const input = document.querySelector('input.hextra-search-input');
      if (!input) return;
      input.focus();
      input.click();
      try { input.select(); } catch(_){}
    }, 220);
  }

  if (btnSearch){
    const handler = function(e){
      e.preventDefault();
      e.stopPropagation();
      if (e.stopImmediatePropagation) e.stopImmediatePropagation();
      openOfficialSearch();
    };
    btnSearch.addEventListener("click", handler, true);
    btnSearch.addEventListener("touchstart", handler, { passive: false, capture: true });
    btnSearch.addEventListener("keydown", function(e){
      if (e.key === "Enter") handler(e);
    });
  }
})();
</script>
<!-- ======================= WQ Mobile Drawer END ======================= -->